(function(e){function t(t){for(var n,i,a=t[0],s=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),o()}function o(){for(var e,t=0;t<c.length;t++){for(var o=c[t],n=!0,i=1;i<o.length;i++){var s=o[i];0!==r[s]&&(n=!1)}n&&(c.splice(t--,1),e=a(a.s=o[0]))}return e}var n={},r={app:0},c=[];function i(e){return a.p+"js/"+({protected:"protected"}[e]||e)+"."+{protected:"4db90d9f"}[e]+".js"}function a(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.e=function(e){var t=[],o=r[e];if(0!==o)if(o)t.push(o[2]);else{var n=new Promise(function(t,n){o=r[e]=[t,n]});t.push(o[2]=n);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=i(e);var u=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(d);var o=r[e];if(0!==o){if(o){var n=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+n+": "+c+")",u.name="ChunkLoadError",u.type=n,u.request=c,o[1](u)}r[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:s})},12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,o){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(a.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(o,n,function(t){return e[t]}.bind(null,n));return o},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=u;c.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},3691:function(e,t,o){},"56d7":function(e,t,o){"use strict";o.r(t);o("6b54");var n=o("2b0e"),r=o("8c4f"),c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("SignedInUser"),o("router-link",{attrs:{to:{name:"welcome"}}},[e._v("to welcome")]),o("br"),o("div",[e._v("\n    Name:"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.product.name,expression:"product.name"}],attrs:{type:"text"},domProps:{value:e.product.name},on:{input:function(t){t.target.composing||e.$set(e.product,"name",t.target.value)}}}),o("div",[o("span",[e._v(e._s(e._f("capitalize")(e.product.name)))])])]),o("div",[e._v("\n    Leves:"),o("label",[e._v("高")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"H"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"H")>-1:e.product.leves},on:{change:function(t){var o=e.product.leves,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c="H",i=e._i(o,c);n.checked?i<0&&e.$set(e.product,"leves",o.concat([c])):i>-1&&e.$set(e.product,"leves",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.product,"leves",r)}}}),o("label",[e._v("中")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"M"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"M")>-1:e.product.leves},on:{change:function(t){var o=e.product.leves,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c="M",i=e._i(o,c);n.checked?i<0&&e.$set(e.product,"leves",o.concat([c])):i>-1&&e.$set(e.product,"leves",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.product,"leves",r)}}}),o("label",[e._v("低")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"L"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"L")>-1:e.product.leves},on:{change:function(t){var o=e.product.leves,n=t.target,r=!!n.checked;if(Array.isArray(o)){var c="L",i=e._i(o,c);n.checked?i<0&&e.$set(e.product,"leves",o.concat([c])):i>-1&&e.$set(e.product,"leves",o.slice(0,i).concat(o.slice(i+1)))}else e.$set(e.product,"leves",r)}}})]),o("div",[o("button",{on:{click:e.show}},[e._v("show")]),o("br"),o("button",{on:{click:e.request}},[e._v("requestApi")])]),o("h1",[e._v("Lazy")]),o("div",[o("div",[o("input",{directives:[{name:"model",rawName:"v-model",value:e.product.price,expression:"product.price"}],attrs:{type:"text",lazy:"",debounce:"5000"},domProps:{value:e.product.price},on:{input:function(t){t.target.composing||e.$set(e.product,"price",t.target.value)}}})]),o("div",[e._v("showPrice:"+e._s(e.product.price))]),o("div",[e._v("ComputedResult:"+e._s(e.total))])]),e._m(0),e._l(e.product.leves,function(t,n){return o("ul",{key:n},[o("li",[e._v(e._s(n)+e._s(t))])])})],2)},i=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._v("Search:"),o("input",{attrs:{type:"text"}})])}],a=o("cad3"),s=o("bc3a"),u=o.n(s),d=o("c0d6");n["a"].prototype.$axios=u.a,u.a.defaults.baseURL="http://47.112.212.161:9102/api",u.a.defaults.headers.common["Authorization"]="Bearer "+d["a"].state.oidcStore.access_token,u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.headers.put["Content-Type"]="application/json",u.a.interceptors.request.use(function(e){return e.headers.Authorization="Bearer "+d["a"].state.oidcStore.access_token,console.info(e),e},function(e){return Promise.reject(e)});var l=u.a,p={name:"Home",components:{SignedInUser:a["a"]},data:function(){return{product:{name:"xiaomi",leves:["M","L"],price:100}}},methods:{show:function(){alert(JSON.stringify(this.product))},request:function(){l.get("/values").then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.post("/values",JSON.stringify({name:"hiword"})).then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.put("/values/123",JSON.stringify({name:"hiword"})).then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.delete("/values/123").then(function(e){console.info(e)}).catch(function(e){console.debug(e)})}},computed:{total:function(){return.283*this.product.price}}},v=p,f=o("2877"),h=Object(f["a"])(v,c,i,!1,null,"1135caaf",null),m=h.exports,b=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("span",[o("router-link",{attrs:{to:{name:"home"}}},[e._v("to home")])],1)},g=[],_={},y=_,k=Object(f["a"])(y,b,g,!1,null,"b50b560a",null),w=k.exports,x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div")},O=[],S=o("db72"),j=o("2f62"),E={name:"OidcCallback",methods:Object(S["a"])({},Object(j["b"])(["oidcSignInCallback"])),mounted:function(){var e=this;this.oidcSignInCallback().then(function(t){e.$router.push(t)}).catch(function(t){console.error(t),e.$router.push("/oidc-callback-error")})}},A=E,I=Object(f["a"])(A,x,O,!1,null,null,null),$=I.exports,P=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},T=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("h1",[e._v("Error in authentication")])])}],L={name:"OidcCallbackError"},C=L,U=Object(f["a"])(C,P,T,!1,null,null,null),N=U.exports,M=o("f358");n["a"].use(r["a"]);var D=new r["a"]({routes:[{path:"/",component:m,meta:{isPublic:!0},name:"home"},{path:"/welcome",component:w,name:"welcome"},{path:"/protected",name:"protected",component:function(){return o.e("protected").then(o.bind(null,"030c"))}},{path:"/oidc-callback",component:$,name:"oidcCallback"},{path:"/oidc-callback-error",name:"oidcCallbackError",component:N,meta:{isPublic:!0}}]});D.beforeEach(Object(M["a"])(d["a"],"oidcStore"));var z=D,H=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[e.hasAccess?o("div",{attrs:{id:"nav"}}):e._e(),o("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),o("router-link",{attrs:{to:"/protected"}},[e._v("Protected")]),o("router-view")],1)},R=[],q={name:"App",computed:Object(S["a"])({},Object(j["c"])("oidcStore",["oidcIsAuthenticated"]),{hasAccess:function(){return this.oidcIsAuthenticated||this.$route.meta.isPublic}}),methods:{userLoaded:function(e){console.log("I am listening to the user loaded event in vuex-oidc",e.detail)},oidcError:function(e){console.log("I am listening to the oidc error event in vuex-oidc",e.detail)}},mounted:function(){window.addEventListener("vuexoidc:userLoaded",this.userLoaded),window.addEventListener("vuexoidc:oidcError",this.oidcError)},destroyed:function(){window.removeEventListener("vuexoidc:userLoaded",this.userLoaded),window.removeEventListener("vuexoidc:oidcError",this.oidcError)}},J=q,B=Object(f["a"])(J,H,R,!1,null,null,null),Y=B.exports;n["a"].config.productionTip=!0,n["a"].filter("capitalize",function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}),new n["a"]({router:z,store:d["a"],render:function(e){return e(Y)}}).$mount("#app")},ab77:function(e,t,o){"use strict";o.d(t,"a",function(){return n});var n={authority:"http://47.112.212.161:9101",clientId:"js",redirectUri:"http://47.112.212.161:9100/oidc-callback",responseType:"code",scope:"openid profile vue.api",automaticSilentRenew:!0,silentRedirectUri:"http://47.112.212.161:9100/silent-renew-oidc.html"}},c0d6:function(e,t,o){"use strict";var n=o("2b0e"),r=o("2f62"),c=o("f358"),i=o("ab77");n["a"].use(r["a"]),t["a"]=new r["a"].Store({modules:{oidcStore:Object(c["b"])(i["a"],{namespaced:!0,dispatchEventsOnWindow:!0},{userLoaded:function(e){return console.log("OIDC user is loaded:",e)},userUnloaded:function(){return console.log("OIDC user is unloaded")},accessTokenExpiring:function(){return console.log("Access token will expire")},accessTokenExpired:function(){return console.log("Access token did expire")},silentRenewError:function(){return console.log("OIDC user is unloaded")},userSignedOut:function(){return console.log("OIDC user is signed out")},oidcError:function(e){return console.log("OIDC error",e)}})}})},cad3:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.oidcIsAuthenticated?o("div",[e.oidcUser?o("div",[e._v("\n    Signed in as "+e._s(e.oidcUser.name)+"\n    "),o("button",{on:{click:e.signOutOidc}},[e._v("Sign out")])]):e._e(),o("button",{on:{click:e.showToken}},[e._v("showToken")]),o("p",[e._v("\n    You are signed in as:\n  ")]),o("div",{staticStyle:{width:"100%","max-width":"640px",height:"200px",margin:"0 auto","font-family":"monospace"},domProps:{innerHTML:e._s(e.userDisplay)}}),o("p",[e._v("\n    Id token\n  ")]),o("p",[e._v("\n    expires "+e._s(new Date(e.oidcIdTokenExp).toISOString())+"\n  ")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.oidcIdToken,expression:"oidcIdToken"}],staticStyle:{width:"100%","max-width":"640px",height:"200px",margin:"0 auto","font-family":"monospace"},attrs:{readonly:""},domProps:{value:e.oidcIdToken},on:{input:function(t){t.target.composing||(e.oidcIdToken=t.target.value)}}}),o("p",[o("button",{on:{click:e.authenticateOidcSilent}},[e._v("Reauthenticate silently")])])]):e.oidcAuthenticationIsChecked?o("p",[e._v("You are not signed in")]):o("p",[e._v("Silent renew is in progress...")])},r=[],c=o("db72"),i=o("2f62"),a=o("e248"),s=o.n(a),u=o("c0d6"),d={name:"SignedInUser",computed:Object(c["a"])({},Object(i["c"])("oidcStore",["oidcIsAuthenticated","oidcAuthenticationIsChecked","oidcUser","oidcIdToken","oidcIdTokenExp"]),{userDisplay:function(){return s()(this.oidcUser)}}),methods:Object(c["a"])({},Object(i["b"])("oidcStore",["authenticateOidcSilent","signOutOidc"]),{showToken:function(){console.info(this.oidcUser),alert(u["a"].state.oidcStore.access_token)}})},l=d,p=(o("d287"),o("2877")),v=Object(p["a"])(l,n,r,!1,null,null,null);t["a"]=v.exports},d287:function(e,t,o){"use strict";var n=o("3691"),r=o.n(n);r.a}});
//# sourceMappingURL=app.d62dfc73.js.map