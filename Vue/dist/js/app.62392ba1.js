(function(e){function t(t){for(var o,i,a=t[0],s=t[1],u=t[2],d=0,p=[];d<a.length;d++)i=a[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);l&&l(t);while(p.length)p.shift()();return c.push.apply(c,u||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(o=!1)}o&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},r={app:0},c=[];function i(e){return a.p+"js/"+({}[e]||e)+"."+{"chunk-2d0a386c":"63729973"}[e]+".js"}function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var o=new Promise(function(t,o){n=r[e]=[t,o]});t.push(n[2]=o);var c,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=i(e);var u=new Error;c=function(t){s.onerror=s.onload=null,clearTimeout(d);var n=r[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+o+": "+c+")",u.name="ChunkLoadError",u.type=o,u.request=c,n[1](u)}r[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:s})},12e4);s.onerror=s.onload=c,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var l=u;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},3691:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("6b54");var o=n("2b0e"),r=n("8c4f"),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("SignedInUser"),n("router-link",{attrs:{to:{name:"welcome"}}},[e._v("to welcome")]),n("br"),n("div",[e._v("\n    Name:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.product.name,expression:"product.name"}],attrs:{type:"text"},domProps:{value:e.product.name},on:{input:function(t){t.target.composing||e.$set(e.product,"name",t.target.value)}}}),n("div",[n("span",[e._v(e._s(e._f("capitalize")(e.product.name)))])])]),n("div",[e._v("\n    Leves:"),n("label",[e._v("高")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"H"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"H")>-1:e.product.leves},on:{change:function(t){var n=e.product.leves,o=t.target,r=!!o.checked;if(Array.isArray(n)){var c="H",i=e._i(n,c);o.checked?i<0&&e.$set(e.product,"leves",n.concat([c])):i>-1&&e.$set(e.product,"leves",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.product,"leves",r)}}}),n("label",[e._v("中")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"M"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"M")>-1:e.product.leves},on:{change:function(t){var n=e.product.leves,o=t.target,r=!!o.checked;if(Array.isArray(n)){var c="M",i=e._i(n,c);o.checked?i<0&&e.$set(e.product,"leves",n.concat([c])):i>-1&&e.$set(e.product,"leves",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.product,"leves",r)}}}),n("label",[e._v("低")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.product.leves,expression:"product.leves"}],attrs:{type:"checkbox",value:"L"},domProps:{checked:Array.isArray(e.product.leves)?e._i(e.product.leves,"L")>-1:e.product.leves},on:{change:function(t){var n=e.product.leves,o=t.target,r=!!o.checked;if(Array.isArray(n)){var c="L",i=e._i(n,c);o.checked?i<0&&e.$set(e.product,"leves",n.concat([c])):i>-1&&e.$set(e.product,"leves",n.slice(0,i).concat(n.slice(i+1)))}else e.$set(e.product,"leves",r)}}})]),n("div",[n("button",{on:{click:e.show}},[e._v("show")]),n("br"),n("button",{on:{click:e.request}},[e._v("requestApi")])]),n("h1",[e._v("Lazy")]),n("div",[n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.product.price,expression:"product.price"}],attrs:{type:"text",lazy:"",debounce:"5000"},domProps:{value:e.product.price},on:{input:function(t){t.target.composing||e.$set(e.product,"price",t.target.value)}}})]),n("div",[e._v("showPrice:"+e._s(e.product.price))]),n("div",[e._v("ComputedResult:"+e._s(e.total))])]),e._l(e.product.leves,function(t,o){return n("ul",{key:o},[n("li",[e._v(e._s(o)+e._s(t))])])})],2)},i=[],a=n("cad3"),s=n("bc3a"),u=n.n(s),d=n("c0d6");o["a"].prototype.$axios=u.a,u.a.defaults.baseURL="http://47.112.212.161:9102/api",u.a.defaults.headers.common["Authorization"]="Bearer "+d["a"].state.oidcStore.access_token,u.a.defaults.headers.post["Content-Type"]="application/json",u.a.defaults.headers.put["Content-Type"]="application/json",u.a.interceptors.request.use(function(e){return e.headers.Authorization="Bearer "+d["a"].state.oidcStore.access_token,console.info(e),e},function(e){return Promise.reject(e)});var l=u.a,p={name:"Home",components:{SignedInUser:a["a"]},data:function(){return{product:{name:"xiaomi",leves:["M","L"],price:100}}},methods:{show:function(){alert(JSON.stringify(this.product))},request:function(){l.get("/values").then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.post("/values",JSON.stringify({name:"hiword"})).then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.put("/values/123",JSON.stringify({name:"hiword"})).then(function(e){console.info(e)}).catch(function(e){console.debug(e)}),l.delete("/values/123").then(function(e){console.info(e)}).catch(function(e){console.debug(e)})}},computed:{total:function(){return.283*this.product.price}}},v=p,m=n("2877"),h=Object(m["a"])(v,c,i,!1,null,"74af4d56",null),f=h.exports,b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("router-link",{attrs:{to:{name:"home"}}},[e._v("to home")]),n("div",[n("button",{on:{click:e.add}},[e._v("Store")]),e._v("\nState:"+e._s(this.$store.state.count)),n("br"),e._v("\nMapState:"+e._s(e.count)),n("br"),e._v("\nmapGetters :"+e._s(e.myDone)),n("br"),e._v("\nmapMutations:"),n("button",{on:{click:e.increment}},[e._v("Change")]),n("br"),e._v("\nmapActions:"),n("button",{on:{click:e.myIncrement}},[e._v("Change")]),n("br"),e._v("\nmyStoreMutations:"),n("button",{on:{click:e.changeName}},[e._v("ChangeName")])])],1)},_=[],g=n("db72"),y=n("2f62"),k={computed:Object(g["a"])({},Object(y["e"])(["count"]),{},Object(y["c"])({myDone:"done"})),methods:Object(g["a"])({},Object(y["d"])(["increment"]),{},Object(y["d"])("myStore",["changeName"]),{},Object(y["b"])({myIncrement:"increment"}),{add:function(){this.$store.commit("increment")}})},O=k,w=Object(m["a"])(O,b,_,!1,null,"1a8fe2d1",null),x=w.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div")},j=[],E={name:"OidcCallback",methods:Object(g["a"])({},Object(y["b"])(["oidcSignInCallback"])),mounted:function(){var e=this;this.oidcSignInCallback().then(function(t){e.$router.push(t)}).catch(function(t){console.error(t),e.$router.push("/oidc-callback-error")})}},I=E,A=Object(m["a"])(I,S,j,!1,null,null,null),P=A.exports,$=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},C=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Error in authentication")])])}],T={name:"OidcCallbackError"},L=T,U=Object(m["a"])(L,$,C,!1,null,null,null),N=U.exports,D=n("f358");o["a"].use(r["a"]);var M=new r["a"]({routes:[{path:"/",component:f,meta:{isPublic:!0},name:"home"},{path:"/welcome",component:x,meta:{isPublic:!0},name:"welcome"},{path:"/protected",name:"protected",component:function(){return n.e("chunk-2d0a386c").then(n.bind(null,"030c"))}},{path:"/oidc-callback",component:P,name:"oidcCallback"},{path:"/oidc-callback-error",name:"oidcCallbackError",component:N,meta:{isPublic:!0}}]});M.beforeEach(Object(D["a"])(d["a"],"oidcStore"));var R=M,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e.hasAccess?n("div",{attrs:{id:"nav"}}):e._e(),n("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" |\n    "),n("router-link",{attrs:{to:"/protected"}},[e._v("Protected")]),n("router-view")],1)},H=[],J={name:"App",computed:Object(g["a"])({},Object(y["c"])("oidcStore",["oidcIsAuthenticated"]),{hasAccess:function(){return this.oidcIsAuthenticated||this.$route.meta.isPublic}}),methods:{userLoaded:function(e){console.log("I am listening to the user loaded event in vuex-oidc",e.detail)},oidcError:function(e){console.log("I am listening to the oidc error event in vuex-oidc",e.detail)}},mounted:function(){window.addEventListener("vuexoidc:userLoaded",this.userLoaded),window.addEventListener("vuexoidc:oidcError",this.oidcError)},destroyed:function(){window.removeEventListener("vuexoidc:userLoaded",this.userLoaded),window.removeEventListener("vuexoidc:oidcError",this.oidcError)}},q=J,B=Object(m["a"])(q,z,H,!1,null,null,null),V=B.exports;o["a"].config.productionTip=!0,o["a"].filter("capitalize",function(e){return e?(e=e.toString(),e.charAt(0).toUpperCase()+e.slice(1)):""}),new o["a"]({router:R,store:d["a"],render:function(e){return e(V)}}).$mount("#app")},ab77:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var o=JSON.parse('{"authority": "http://47.112.212.161:9101","clientId": "js","redirectUri": "http://47.112.212.161:9100/oidc-callback","responseType": "code","scope": "openid profile vue.api","automaticSilentRenew": true,"silentRedirectUri": "http://47.112.212.161:9100/silent-renew-oidc.html"}');console.info(Object({NODE_ENV:"production",VUE_APP_API_BaseUrl:"http://47.112.212.161:9102/api",VUE_APP_OIDC_CONFIG:'{"authority": "http://47.112.212.161:9101","clientId": "js","redirectUri": "http://47.112.212.161:9100/oidc-callback","responseType": "code","scope": "openid profile vue.api","automaticSilentRenew": true,"silentRedirectUri": "http://47.112.212.161:9100/silent-renew-oidc.html"}',BASE_URL:"/"}))},c0d6:function(e,t,n){"use strict";var o=n("2b0e"),r=n("2f62"),c=n("f358"),i=n("ab77"),a={namespaced:!0,mutations:{changeName:function(){alert("hi!")}}};o["a"].use(r["a"]);t["a"]=new r["a"].Store({state:{count:0},mutations:{increment:function(e){e.count++}},actions:{increment:function(e){var t=e.commit;t("increment")}},getters:{done:function(e){return e.count}},modules:{myStore:a,oidcStore:Object(c["b"])(i["a"],{namespaced:!0,dispatchEventsOnWindow:!0},{userLoaded:function(e){return console.log("OIDC user is loaded:",e)},userUnloaded:function(){return console.log("OIDC user is unloaded")},accessTokenExpiring:function(){return console.log("Access token will expire")},accessTokenExpired:function(){return console.log("Access token did expire")},silentRenewError:function(){return console.log("OIDC user is unloaded")},userSignedOut:function(){return console.log("OIDC user is signed out")},oidcError:function(e){return console.log("OIDC error",e)}})}})},cad3:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.oidcIsAuthenticated?n("div",[e.oidcUser?n("div",[e._v("\n    Signed in as "+e._s(e.oidcUser.name)+"\n    "),n("button",{on:{click:e.signOutOidc}},[e._v("Sign out")])]):e._e(),n("button",{on:{click:e.showToken}},[e._v("showToken")]),n("p",[e._v("\n    You are signed in as:\n  ")]),n("div",{staticStyle:{width:"100%","max-width":"640px",height:"200px",margin:"0 auto","font-family":"monospace"},domProps:{innerHTML:e._s(e.userDisplay)}}),n("p",[e._v("\n    Id token\n  ")]),n("p",[e._v("\n    expires "+e._s(new Date(e.oidcIdTokenExp).toISOString())+"\n  ")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.oidcIdToken,expression:"oidcIdToken"}],staticStyle:{width:"100%","max-width":"640px",height:"200px",margin:"0 auto","font-family":"monospace"},attrs:{readonly:""},domProps:{value:e.oidcIdToken},on:{input:function(t){t.target.composing||(e.oidcIdToken=t.target.value)}}}),n("p",[n("button",{on:{click:e.authenticateOidcSilent}},[e._v("Reauthenticate silently")])])]):e.oidcAuthenticationIsChecked?n("p",[e._v("You are not signed in")]):n("p",[e._v("Silent renew is in progress...")])},r=[],c=n("db72"),i=n("2f62"),a=n("e248"),s=n.n(a),u=n("c0d6"),d={name:"SignedInUser",computed:Object(c["a"])({},Object(i["c"])("oidcStore",["oidcIsAuthenticated","oidcAuthenticationIsChecked","oidcUser","oidcIdToken","oidcIdTokenExp"]),{userDisplay:function(){return s()(this.oidcUser)}}),methods:Object(c["a"])({},Object(i["b"])("oidcStore",["authenticateOidcSilent","signOutOidc"]),{showToken:function(){console.info(this.oidcUser),alert(u["a"].state.oidcStore.access_token)}})},l=d,p=(n("d287"),n("2877")),v=Object(p["a"])(l,o,r,!1,null,null,null);t["a"]=v.exports},d287:function(e,t,n){"use strict";var o=n("3691"),r=n.n(o);r.a}});
//# sourceMappingURL=app.62392ba1.js.map